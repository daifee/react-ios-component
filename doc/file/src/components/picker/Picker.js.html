<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/components/picker/Picker.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/maiwenan/react-ios-component.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/actionsheet</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ActionSheet">ActionSheet</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/alert</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/alert/Prompt.js~Prompt.html">Prompt</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Alert">Alert</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AlertBody">AlertBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AlertButton">AlertButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AlertFooter">AlertFooter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AlertHeader">AlertHeader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Confirm">Confirm</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/badge</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Badge">Badge</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/button</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Button">Button</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/cell</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Cell">Cell</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-CellBody">CellBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-CellDesc">CellDesc</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-CellFooter">CellFooter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-CellHeader">CellHeader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Cells">Cells</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-CellsTitle">CellsTitle</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/form</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/form/Slider.js~Slider.html">Slider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Checkbox">Checkbox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Input">Input</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Radio">Radio</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Stepper">Stepper</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Switch">Switch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Textarea">Textarea</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/icon</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Icon">Icon</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-IconLoading">IconLoading</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/indicator</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/indicator/Indicator.js~Indicator.html">Indicator</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/mask</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Mask">Mask</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/navbar</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-NavBar">NavBar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-NavBarItem">NavBarItem</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/page</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Page">Page</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Scene">Scene</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/picker</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/picker/DatePicker.js~DatePicker.html">DatePicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/picker/InlineDatePicker.js~InlineDatePicker.html">InlineDatePicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/picker/InlinePicker.js~InlinePicker.html">InlinePicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/picker/InlineTimePicker.js~InlineTimePicker.html">InlineTimePicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/picker/Options.js~Options.html">Options</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/picker/Picker.js~Picker.html">Picker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/picker/TimePicker.js~TimePicker.html">TimePicker</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/popup</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Popup">Popup</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/portal</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/portal/Portal.js~Portal.html">Portal</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/searchbar</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/searchbar/SearchBarInput.js~SearchBarInput.html">SearchBarInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-SearchBarFooter">SearchBarFooter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-SearchBarHeader">SearchBarHeader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-SearchBar">SearchBar</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/segmented</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Segmented">Segmented</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/tabbar</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-TabBar">TabBar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-TabBarIcon">TabBarIcon</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-TabBarItem">TabBarItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-TabBarLabel">TabBarLabel</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/util</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createPortalEl">createPortalEl</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getContainer">getContainer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createClassNames">createClassNames</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-date2str">date2str</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-generateOptions">generateOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-indexOfOptions">indexOfOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-px2rem">px2rem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-config">config</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-classNames">classNames</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/components/picker/Picker.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * @author haw
 */

import React, {
  PropTypes,
  Component
} from &apos;react&apos;;
import Portal from &apos;../portal&apos;;
import Popup from &apos;../popup&apos;;
import InlinePicker from &apos;./InlinePicker&apos;;
import {classNames} from &apos;../util&apos;;

const prefix = &apos;picker&apos;;

/**
 * &#x5F39;&#x7A97;&#x9009;&#x62E9;&#x5668;
 */
export default class Picker extends Component {

  /**
   * &#x6784;&#x9020;&#x51FD;&#x6570;
   * @param {Object} props &#x7EC4;&#x4EF6;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5C5E;&#x6027;
   * @param {boolean} [props.visible] &#x5F39;&#x7A97;&#x9009;&#x62E9;&#x5668;&#x662F;&#x5426;&#x663E;&#x793A;
   * @param {Object[]|string[]|number[]} props.optionsList &#x8FDB;&#x884C;&#x9009;&#x62E9;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;
   * @param {number[]} [props.selectedList] &#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x9879;&#x4E0B;&#x6807;&#x7EC4;&#x6210;&#x7684;&#x6570;&#x7EC4;
   * @param {string} [props.labelName=&apos;name&apos;] &#x5F53;&#x53EF;&#x9009;&#x62E9;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x7684;&#x9879;&#x662F;&#x5BF9;&#x8C61;(obj)&#x65F6;&#xFF0C;`obj[labelName]` &#x5C31;&#x662F;&#x9009;&#x62E9;&#x5668;&#x663E;&#x793A;&#x7684;&#x6587;&#x6848;
   * @param {string} [props.nextName=&apos;childs&apos;] &#x67D0;&#x4E2A;&#x5217;&#x8868;&#x9879;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x9009;&#x62E9;&#x5217;&#x8868;&#x6570;&#x636E;&#x591A;&#x5BF9;&#x5E94;&#x7684; `key`
   * @param {PropTypes.node} [props.title] &#x5F39;&#x7A97;&#x6807;&#x9898;
   * @param {PropTypes.node} [props.confirmText=&apos;&#x786E;&#x5B9A;&apos;] &#x786E;&#x8BA4;&#x6309;&#x94AE;&#x6587;&#x6848;
   * @param {PropTypes.node} [props.cancelText=&apos;&#x53D6;&#x6D88;&apos;] &#x53D6;&#x6D88;&#x6309;&#x94AE;&#x6587;&#x6848;
   * @param {function} props.onConfirm &#x786E;&#x8BA4;&#x6309;&#x94AE;&#x7684;&#x51FD;&#x6570;&#x56DE;&#x8C03;
   * @param {function} [props.onCancel] &#x53D6;&#x6D88;&#x6309;&#x94AE;&#x7684;&#x51FD;&#x6570;&#x56DE;&#x8C03;
   * @param {function} [props.onChange] &#x9009;&#x4E2D;&#x67D0;&#x4E00;&#x4E2A;&#x9879;&#x65F6;&#x89E6;&#x53D1;&#x7684;&#x51FD;&#x6570;&#x56DE;&#x8C03;
   * @param {Object} context
   */
  constructor(props, context) {
    super(props, context);

    this.state = {
      selectedList: props.selectedList
    };
  }

  componentWillReceiveProps({selectedList}) {
    this.setState({selectedList});
  }

  _onCancel = (e) =&gt; {
    const {
      close,
      onCancel
    } = this.props;

    close &amp;&amp; close();
    onCancel &amp;&amp; onCancel(e);
  };

  _onChange = (selectedList) =&gt; {
    const {
      onChange
    } = this.props;

    this.setState({selectedList});
    onChange &amp;&amp; onChange(selectedList);
  }

  _onConfirm = (e) =&gt; {
    const {
      close,
      onConfirm
    } = this.props;

    close &amp;&amp; close();
    onConfirm &amp;&amp; onConfirm(this.state.selectedList, e);
  };

  render() {
    let {
      visible,
      title,
      confirmText,
      cancelText,
      optionsList,
      selectedList,
      onConfirm,
      onCancel,
      labelName,
      nextName,
      close,
      className,
      ...rest
    } = this.props;
    const clazz = classNames(prefix, {
      [className]: className
    });
    const headerClazz = classNames(`${prefix}-header`);

    return (
      &lt;Popup
        visible={visible}
        close={close}
        position=&apos;bottom&apos;
      &gt;
        &lt;div className={clazz} {...rest}&gt;
          &lt;div className={headerClazz}&gt;
            &lt;a onClick={this._onCancel}&gt;{cancelText}&lt;/a&gt;
            &lt;span&gt;{title}&lt;/span&gt;
            &lt;a onClick={this._onConfirm}&gt;{confirmText}&lt;/a&gt;
          &lt;/div&gt;
          &lt;InlinePicker
            labelName={labelName}
            nextName={nextName}
            selectedList={this.state.selectedList}
            optionsList={optionsList}
            onChange={this._onChange}
          /&gt;
        &lt;/div&gt;
      &lt;/Popup&gt;
    );
  }
}

/**
 * &#x5F39;&#x7A97;&#x9009;&#x62E9;&#x5668;&#x7EC4;&#x4EF6;&#x7684; API &#x8C03;&#x7528;&#x65B9;&#x6CD5;
 * @param  {Object} props     @see Picker &#x7EC4;&#x4EF6;&#x5C5E;&#x6027;
 * @param  {Node} container &#x5F39;&#x7A97;&#x9009;&#x62E9;&#x5668;&#x7684;&#x5BB9;&#x5668;&#x8282;&#x70B9;
 */
Picker.show = (props, container) =&gt; {
  Portal.show(Picker, props, container);
};

Picker.propTypes = {
  selectedList: PropTypes.array.isRequired,
  optionsList: PropTypes.array.isRequired,
  visible: PropTypes.bool,
  title: PropTypes.node,
  confirmText: PropTypes.node,
  cancelText: PropTypes.node,
  onConfirm: PropTypes.func,
  onCancel: PropTypes.func,
  onChange: PropTypes.func,
  close: PropTypes.func,
  labelName: PropTypes.string,
  nextName: PropTypes.string,
  className: PropTypes.string
};

Picker.defaultProps = {
  confirmText: &apos;&#x786E;&#x5B9A;&apos;,
  cancelText: &apos;&#x53D6;&#x6D88;&apos;
};
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.7)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
